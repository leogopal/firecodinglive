<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Enter</title>

    <script src="https://www.gstatic.com/firebasejs/ui/4.8.0/firebase-ui-auth.js"></script>
    <link type="text/css" rel="stylesheet" href="https://www.gstatic.com/firebasejs/ui/4.8.0/firebase-ui-auth.css"/>
</head>
<body>

<!-- The surrounding HTML is left untouched by FirebaseUI.
 Your app may use that space for branding, controls and other customizations.-->
<h1>Welcome to My Awesome App</h1>
<div id="firebaseui-auth-container"></div>
<div id="loader">Loading...</div>
<!-- Insert these scripts at the bottom of the HTML, but before you use any Firebase services -->

<!-- Firebase App (the core Firebase SDK) is always required and must be listed first -->
<script src="https://www.gstatic.com/firebasejs/8.4.1/firebase-app.js"></script>

<!-- If you enabled Analytics in your project, add the Firebase SDK for Analytics -->
<script src="https://www.gstatic.com/firebasejs/8.4.1/firebase-analytics.js"></script>

<!-- Add Firebase products that you want to use -->
<script src="https://www.gstatic.com/firebasejs/8.4.1/firebase-auth.js"></script>
<script src="https://www.gstatic.com/firebasejs/8.4.1/firebase-firestore.js"></script>
<script>
    var firebaseConfig = {
        apiKey: "AIzaSyAaA7QkqCKBlmT-cU3DyVXYAp5t-Pkfggk",
        authDomain: "firecodelive.firebaseapp.com",
        databaseURL: "https://firecodelive-default-rtdb.firebaseio.com",
        projectId: "firecodelive",
        storageBucket: "firecodelive.appspot.com",
        messagingSenderId: "694520542067",
        appId: "1:694520542067:web:fd0780aae5aa24b7558b06",
        measurementId: "G-4DKK2YPLF6"
    };

    // Initialize Firebase
    firebase.initializeApp(firebaseConfig);


    var ui = new firebaseui.auth.AuthUI(firebase.auth());   
    firebase.auth().signInAnonymously()

        .then(() => {
            // Signed in..
            firebase.auth().onAuthStateChanged((user) => {
                if (user) {
                    var uid = user.uid;
                    user.redirect('/');
                } else {
                    // User is signed out
                    // ...
                }
            });
        })

        .catch((error) => {
            var errorCode = error.code;
            var errorMessage = error.message;
            // ...
        }
    );
    
    
</script>

</body>
</html>